(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[687],{7915:function(e,t,l){Promise.resolve().then(l.bind(l,4831))},4831:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return m}});var r=l(7437),a=l(2265);l(7138);var o=l(6648),s=l(4446),i=l(1513),n=l(7476);function d(e){let{className:t="w-12 h-12"}=e;return(0,r.jsxs)("svg",{viewBox:"0 0 24 24",className:t,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:[(0,r.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",fill:"#fff3e0",stroke:"#f6b84b"}),(0,r.jsx)("path",{d:"M8 8h5l3 3v6a1 1 0 0 1-1 1H8V8z",fill:"#ffd6a5"}),(0,r.jsx)("path",{d:"M9 14.5h6",stroke:"#b45309",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M9 11h6",stroke:"#b45309",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("circle",{cx:"7.5",cy:"16.5",r:"0.9",fill:"#b45309"})]})}function c(e){let{brochure:t,onRemove:l}=e,a=t.fileUrl,s=t.fileName||(a?a.split("/").pop():"file.pdf");return(0,r.jsxs)("article",{className:"flex flex-col rounded-2xl overflow-hidden shadow-lg border bg-white",children:[(0,r.jsx)("div",{className:"relative h-48 bg-gradient-to-b from-white to-[#fff7ed] flex items-center justify-center",children:t.previewImage?(0,r.jsx)(o.default,{src:t.previewImage,alt:t.title,fill:!0,className:"object-cover object-center",unoptimized:!0}):(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,r.jsx)(d,{className:"w-16 h-16"}),(0,r.jsx)("div",{className:"text-sm font-semibold text-[#0b2b52]",children:t.title})]})}),(0,r.jsxs)("div",{className:"p-6 flex-1 flex flex-col",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-[#0b2b52]",children:t.title}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600 leading-relaxed flex-1",style:{textAlign:"justify"},children:t.desc}),(0,r.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>openModal(t),className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[#f6b84b] text-black font-semibold shadow hover:scale-[1.02] transition","aria-label":"Download ".concat(s),children:"Download"}),(0,r.jsx)("button",{onClick:()=>openModal(t),className:"inline-flex items-center gap-2 px-4 py-2 rounded-full border border-[#e6e6e6] text-[#0b2b52] font-medium hover:bg-gray-50 transition","aria-label":"View ".concat(s),children:"View"}),l&&(0,r.jsx)("button",{onClick:()=>l(t.id),className:"ml-auto text-sm text-red-600 underline","aria-label":"Remove ".concat(s),title:"Remove (temporary)",children:"Remove"})]}),(0,r.jsxs)("div",{className:"mt-3 text-xs text-gray-500",children:[t.fileSize?"".concat((t.fileSize/1024).toFixed(0)," KB"):null,t.uploadedAt?" • Added: ".concat(new Date(t.uploadedAt).toLocaleString()):null]})]})]})}function m(){let[e,t]=(0,a.useState)([{id:"official-1",title:"Veer Bharat — Company Brochure",desc:"Company profile, product portfolio and contact information. Click Download to save the PDF or View to open it in a new tab.",fileUrl:"/docs/brochure.pdf",fileName:"brochure.pdf"}]),[l,o]=(0,a.useState)(!1),[d,m]=(0,a.useState)(null),[x,u]=(0,a.useState)({name:"",phone:"",email:"",address:""}),[f,h]=(0,a.useState)(!1),[b,p]=(0,a.useState)(!1),g=(0,a.useRef)(null);function j(e){t(t=>{let l=t.find(t=>t.id===e);return l&&l._blobUrl&&URL.revokeObjectURL(l._blobUrl),t.filter(t=>t.id!==e)})}(0,a.useEffect)(()=>()=>{e.forEach(e=>{e._blobUrl&&URL.revokeObjectURL(e._blobUrl)})},[]);let y=()=>{o(!1),m(null),p(!1)},v=e=>{u({...x,[e.target.name]:e.target.value})},w=async e=>{e.preventDefault(),h(!0);try{(await fetch("/api/brochure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...x,from:"brochure",brochureTitle:(null==d?void 0:d.title)||"",brochureFile:(null==d?void 0:d.fileName)||""})})).ok?p(!0):alert("Form submit failed. Try again.")}catch(e){alert("Error submitting form.")}h(!1)};return(0,r.jsx)("main",{className:"min-h-screen bg-[#f8fafc] text-[#0b0d11] py-12",children:(0,r.jsxs)("div",{className:"container mx-auto px-6 max-w-6xl",children:[(0,r.jsx)("header",{className:"mb-8 text-center",children:(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-extrabold",children:"Brochures & Downloads"})}),(0,r.jsxs)("section",{className:"mb-8 flex flex-col md:flex-row items-center gap-4",children:[(0,r.jsxs)("label",{className:"inline-flex items-center gap-3 bg-white px-4 py-3 rounded-lg shadow-md border cursor-pointer",children:[(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"text-[#0b2b52]","aria-hidden":!0,children:[(0,r.jsx)("path",{d:"M12 5v14",stroke:"#0b2b52",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M5 12h14",stroke:"#0b2b52",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,r.jsx)("span",{className:"text-sm font-medium text-[#0b2b52]",children:"Add PDF (temporary)"}),(0,r.jsx)("input",{ref:g,onChange:function(e){let l=e.target.files&&e.target.files[0];if(!l)return;if("application/pdf"!==l.type){alert("Please select a PDF file.");return}let r=URL.createObjectURL(l),a={id:"local-".concat(Date.now()),title:l.name.replace(/\.[^/.]+$/,""),desc:"Temporary user-uploaded brochure for preview & download (client-side only).",fileUrl:r,fileName:l.name,fileSize:l.size,uploadedAt:Date.now(),_blobUrl:r};t(e=>[a,...e]),e.target.value=""},accept:"application/pdf",type:"file",className:"hidden"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,r.jsx)("div",{children:"Temporary uploads are client-side only — use them to preview downloads quickly."}),(0,r.jsxs)("div",{className:"mt-1",children:["For permanent availability, add PDFs to ",(0,r.jsx)("code",{className:"bg-gray-100 px-1 rounded",children:"public/docs/"})," and redeploy."]})]})]}),(0,r.jsx)("section",{children:(0,r.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,r.jsx)(c,{brochure:e,onRemove:e.id.startsWith("local-")?j:void 0},e.id))})}),(0,r.jsx)(s.M,{children:l&&(0,r.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:y,children:(0,r.jsx)(i.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative w-full max-w-md bg-white rounded-2xl shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:b?"Download Ready!":"Download Brochure"}),(0,r.jsx)("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,r.jsx)(n.q5L,{className:"w-5 h-5"})})]}),b?(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)("div",{className:"text-green-600 text-4xl mb-2",children:"✓"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"Thank you! Your information has been submitted successfully."}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>{if(d){let e=document.createElement("a");e.href=d.fileUrl,e.download=d.fileName,document.body.appendChild(e),e.click(),document.body.removeChild(e),y()}},className:"flex-1 bg-[#f6b84b] text-black font-semibold py-3 px-4 rounded-lg hover:bg-[#e59e3d] transition-colors",children:"Download PDF"}),(0,r.jsx)("button",{onClick:()=>{d&&(window.open(d.fileUrl,"_blank"),y())},className:"flex-1 border border-gray-300 text-gray-700 font-semibold py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:"View PDF"})]})]}):(0,r.jsxs)("form",{onSubmit:w,className:"space-y-5",children:[(0,r.jsxs)("div",{className:"grid sm:grid-cols-2 gap-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Name *"}),(0,r.jsx)("input",{type:"text",name:"name",required:!0,value:x.name,onChange:v,className:"w-full px-4 py-3 rounded-xl bg-gradient-to-r from-[#fef9c3]/30 to-[#DFC6F6]/30 border-2 border-gray-200 focus:border-red-500 focus:outline-none transition-all duration-300 text-gray-900 placeholder-gray-500",placeholder:"Enter your name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number *"}),(0,r.jsx)("input",{type:"tel",name:"phone",required:!0,value:x.phone,onChange:v,className:"w-full px-4 py-3 rounded-xl bg-gradient-to-r from-[#fef9c3]/30 to-[#DFC6F6]/30 border-2 border-gray-200 focus:border-red-500 focus:outline-none transition-all duration-300 text-gray-900 placeholder-gray-500",placeholder:"+91 1234567890"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),(0,r.jsx)("input",{type:"email",name:"email",required:!0,value:x.email,onChange:v,className:"w-full px-4 py-3 rounded-xl bg-gradient-to-r from-[#fef9c3]/30 to-[#DFC6F6]/30 border-2 border-gray-200 focus:border-red-500 focus:outline-none transition-all duration-300 text-gray-900 placeholder-gray-500",placeholder:"your@email.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Address *"}),(0,r.jsx)("textarea",{name:"address",required:!0,value:x.address,onChange:v,rows:4,className:"w-full px-4 py-3 rounded-xl bg-gradient-to-r from-[#fef9c3]/30 to-[#DFC6F6]/30 border-2 border-gray-200 focus:border-red-500 focus:outline-none transition-all duration-300 text-gray-900 placeholder-gray-500 resize-none",placeholder:"Your complete address..."})]}),(0,r.jsx)("button",{type:"submit",disabled:f,className:"group w-full px-8 py-4 rounded-xl bg-gradient-to-r from-red-600 to-orange-600 text-white font-bold text-lg shadow-xl hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.LbG,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"}),"Submit & Download"]})})]})]})})})})]})})}}},function(e){e.O(0,[956,307,231,173,640,971,23,744],function(){return e(e.s=7915)}),_N_E=e.O()}]);